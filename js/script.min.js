function setCurrentNumbers(){var n,t=String(parseInt(price/month)).slice(-3),e=String(parseInt(price/month)).slice(0,-3),a=e+" "+t,o=parseInt(month);1===o?n="":o>1&&4>month?n="а":o>4&&(n="ей"),$(".calc_summ span").text(a),$(".calc_month b").text(month),$(".calc_month span").text(n)}function showProducts(){function r(t){var e=t+1;for(t;t>=0;t--)$(n[t]).fadeIn();for(e;e<n.length;e++)$(n[e]).fadeOut()}var t=parseInt(price),e=parseInt(max_price),a=parseInt(min_price),o=e-a,n=[".product_img_2",".product_img_3",".product_img_4",".product_img_5"],i=o/8;r(t>8*i?3:t>6*i?2:t>4*i?1:t>2*i?0:-1)}function modalOpen(t){t.preventDefault();var e=t.target;for(console.log(e);!e.hasAttribute("data-modal-id");)e=e.parentElement;var a=e.getAttribute("data-modal-id");if($("#"+a).length>0){$("#"+a).addClass("modal_visible"),$("#"+a).fadeIn("slow"),$("#"+a).find(".wrapper").customScrollbar();var o=document.body.offsetWidth;window_offset=window.pageYOffset,document.body.style.marginRight=window.innerWidth-o+"px",document.body.style.width=o+"px",document.body.style.top="-"+window_offset+"px",document.body.classList.add("hidden")}}function modalClose(t){var e=t.target;for(console.log(e);!e.classList.contains("modal");)e=e.parentElement;$("#"+e.id).removeClass("modal_visible"),$("#"+e.id).fadeOut("slow",modalAfterTransition)}function modalAfterTransition(){document.body.style.marginRight=0,document.body.style.width="initial",document.body.classList.remove("hidden"),window.scrollTo(0,window_offset)}function initMap(){google_map=new google.maps.Map(document.getElementById("google_map"),{center:{lat:51.167681,lng:71.447188},zoom:15,disableDefaultUI:!0});var t="images/icon_marker.png",a=(new google.maps.Marker({position:{lat:51.16623,lng:71.437161},map:google_map,icon:t}),[{featureType:"all",stylers:[{hue:"#00d4ff"},{saturation:-800},{lightness:50},{gamma:1}]}]);google_map.setOptions({styles:a})}function checkLocation(){var t=$(location).attr("href");if(-1!=t.indexOf("#")){var e=t.indexOf("#");if(-1!=t.indexOf("?"))var a=t.indexOf("?");var o=t.slice(e,a||t.length);switch(o){case"#modal_1":$('[data-modal-id="modal_1"]').trigger("click");break;case"#modal_2":$('[data-modal-id="modal_2"]').trigger("click");break;case"#modal_3":$('[data-modal-id="modal_3"]').trigger("click");break;case"#modal_4":$('[data-modal-id="modal_4"]').trigger("click")}}}$(".bg_img").each(function(){$(this).css("background-image","url("+$(this).find("img").attr("src")+")")}),$(".part_3_grid .cell").on("mouseenter",function(){$(this).find(".hover").animate({opacity:1},400)}),$(".part_3_grid .cell").on("mouseleave",function(){$(this).find(".hover").animate({opacity:0},0)}),$(".part_5_right").on("mouseenter",function(){var t=$(this).find("img");t.attr("src",t.attr("data-img-2"))}),$(".part_5_right").on("mouseleave",function(){var t=$(this).find("img");t.attr("src",t.attr("data-img-1"))}),$(".form_range.price").slider({animate:"fast",max:1e5,min:1e4,value:55e3,step:1e3});var price=$(".form_range.price").slider("value");$(".form_range.month").slider({animate:"fast",max:4,min:1,value:3,step:1});var month=$(".form_range.month").slider("value");$(".form_range.price").slider({change:function(t,e){price=$(".form_range.price").slider("value"),console.log($(".form_range.price").slider("value")),$('[name="client_summ"]').val(price),setCurrentNumbers(),showProducts()}}),$(".form_range.month").slider({change:function(t,e){month=$(".form_range.month").slider("value"),console.log($(".form_range.month").slider("value")),$('[name="client_monthes"]').val(month),setCurrentNumbers(),showProducts()}});var max_price=$(".form_range.price").slider("option","max"),min_price=$(".form_range.price").slider("option","min");setCurrentNumbers(),showProducts(),$(".part_7_tabs").tabs({active:0,heightStyle:"auto",hide:{effect:"fade",duration:400},show:{effect:"fade",duration:400}}),$(".part_8 .slider").slick({dots:!0,infinite:!1,speed:300,slidesToShow:1,adaptiveHeight:!0}),$(".part_8_button").on("click",function(){var t=$(this).parent().parent().find(".popup");t.fadeToggle("slow"),t.find(".popup_wrapper").addClass("default-skin").customScrollbar()}),$(".popup .close").on("click",function(){var t=$(this).parent();t.fadeOut("slow")}),$(".input_phone").mask("+7 (999) 999 9999"),$(".input_phone, .input_name").parent().append('<div class="validator_message" />'),$(".input_phone").attr("data-validation","length"),$(".input_phone").attr("data-validation-length","17"),$(".input_name").attr("data-validation","custom"),$(".input_name").attr("data-validation-regexp","^[a-zA-ZА-Яа-яЁё ]{4,}$"),$(".input_phone").addClass("form-control"),$.validate({addValidClassOnAll:!0}),$(".field_name .validator_message").text("Введите имя (более 3-х букв; допускаются русские и латинские символы, пробелы)"),$(".field_phone .validator_message").text("Введите номер телефона (только цифры)"),$(".modal_window").on("click",function(t){(t.target.classList.contains("modal_content")||t.target.classList.contains("close")||t.target.classList.contains("modal_wrapper"))&&modalClose(t)}),$(window).on("resize",function(){$("header").css("width",$("body").width())});var window_offset,modal_window;$("[data-modal-id], [data-modal-id] *").on("click",function(t){modalOpen(t)});var gallery_index=0;$('[data-modal-id="modal_photo"]').on("click",function(t){var e=$(this).parent().attr("data-img-url");gallery_index=$(this).parent().attr("data-gal"),$("#modal_photo").find(".modal_image").attr("src",e)}),$("#modal_photo .next").on("click",function(t){gallery_index++,gallery_index>=$("[data-gal]").length&&(gallery_index=1);var e=$('[data-gal="'+gallery_index+'"]').attr("data-img-url");$("#modal_photo").find(".modal_image").attr("src",e)}),$("#modal_photo .prev").on("click",function(t){gallery_index--,0===gallery_index&&(gallery_index=$("[data-gal]").length);var e=$('[data-gal="'+gallery_index+'"]').attr("data-img-url");$("#modal_photo").find(".modal_image").attr("src",e)});var google_map;$(".button, .part_1_button, .part_5_button, .part_8_button").on("mousedown",function(){$(this).css("transform","translate(1px, 2px)")}),$(".button,.part_1_button, .part_5_button, .part_8_button").on("mouseup",function(){$(this).css("transform","translate(0px, 0px)")}),$(".button, .part_1_button, .part_8_button").prepend('<div class="button_hover" />'),$(".button, .part_1_button, .part_8_button").on("mouseenter",function(){$(this).find(".button_hover").animate({opacity:1})}),$(".button, .part_1_button, .part_8_button").on("mouseleave",function(){$(this).find(".button_hover").animate({opacity:0})}),checkLocation();